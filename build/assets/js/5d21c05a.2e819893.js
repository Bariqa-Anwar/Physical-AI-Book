"use strict";(self.webpackChunkdocusourus_book=self.webpackChunkdocusourus_book||[]).push([[828],{7420:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"introduction/rviz2-urdf","title":"Visualizing URDF in RViz2","description":"RViz2 (ROS Visualization) is a powerful 3D visualizer for displaying sensor data, robot models, and planning outputs in ROS 2. It\'s an indispensable tool for debugging and understanding your robot\'s behavior. In this section, we\'ll learn how to load and visualize our URDF models in RViz2.","source":"@site/docs/introduction/rviz2-urdf.md","sourceDirName":"introduction","slug":"/introduction/rviz2-urdf","permalink":"/docs/introduction/rviz2-urdf","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/introduction/rviz2-urdf.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Introduction to URDF Concepts","permalink":"/docs/introduction/urdf-concepts"},"next":{"title":"ROS 2 Nodes and Topics","permalink":"/docs/module1/ros2-nodes"}}');var r=n(4848),l=n(8453);const s={sidebar_position:5},t="Visualizing URDF in RViz2",a={},d=[{value:"1. Launching RViz2",id:"1-launching-rviz2",level:2},{value:"2. Displaying Your Robot Model",id:"2-displaying-your-robot-model",level:2},{value:"Step 2.1: Set up Robot Description",id:"step-21-set-up-robot-description",level:3},{value:"Step 2.2: Add RobotModel Display in RViz2",id:"step-22-add-robotmodel-display-in-rviz2",level:3},{value:"Visualizing URDF Models",id:"visualizing-urdf-models",level:2},{value:"Visualizing <code>simple_cylinder_joint.urdf</code>",id:"visualizing-simple_cylinder_jointurdf",level:3}];function c(e){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"visualizing-urdf-in-rviz2",children:"Visualizing URDF in RViz2"})}),"\n",(0,r.jsx)(i.p,{children:"RViz2 (ROS Visualization) is a powerful 3D visualizer for displaying sensor data, robot models, and planning outputs in ROS 2. It's an indispensable tool for debugging and understanding your robot's behavior. In this section, we'll learn how to load and visualize our URDF models in RViz2."}),"\n",(0,r.jsx)(i.h2,{id:"1-launching-rviz2",children:"1. Launching RViz2"}),"\n",(0,r.jsxs)(i.p,{children:["First, ensure your ROS 2 environment is sourced (as discussed in the ",(0,r.jsx)(i.a,{href:"./ros2-install",children:"ROS 2 Installation Guide"}),"). You can launch RViz2 directly from your terminal."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"rviz2\n"})}),"\n",(0,r.jsx)(i.p,{children:"This will open the RViz2 application. Initially, it will appear empty."}),"\n",(0,r.jsx)(i.h2,{id:"2-displaying-your-robot-model",children:"2. Displaying Your Robot Model"}),"\n",(0,r.jsx)(i.p,{children:'To display your URDF robot model, you need to add a "RobotModel" display type to RViz2 and tell it where to find your URDF file and the robot\'s description parameter.'}),"\n",(0,r.jsx)(i.h3,{id:"step-21-set-up-robot-description",children:"Step 2.1: Set up Robot Description"}),"\n",(0,r.jsxs)(i.p,{children:["ROS 2 uses a parameter server to store the robot's description. You'll typically use ",(0,r.jsx)(i.code,{children:"xacro"})," (XML Macros) to parse your URDF and load it onto the parameter server. For simplicity, we'll directly load our simple URDF for now."]}),"\n",(0,r.jsxs)(i.p,{children:["First, make sure ",(0,r.jsx)(i.code,{children:"ros2 launch"})," and ",(0,r.jsx)(i.code,{children:"urdf_tutorial"})," are installed if you don't have them:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"sudo apt install ros-humble-ros2launch ros-humble-urdf-tutorial\n"})}),"\n",(0,r.jsx)(i.p,{children:"Now, you can launch a minimal setup that publishes the robot description:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"ros2 launch urdf_tutorial display.launch.py model:=$(ros2 pkg prefix urdf_tutorial)/share/urdf_tutorial/urdf/01-myfirst.urdf\n"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsxs)(i.em,{children:["(Note: Replace ",(0,r.jsx)(i.code,{children:"01-myfirst.urdf"})," with the path to your URDF file if needed for testing, or use a custom launch file as shown later)"]})}),"\n",(0,r.jsx)(i.h3,{id:"step-22-add-robotmodel-display-in-rviz2",children:"Step 2.2: Add RobotModel Display in RViz2"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:'In the RViz2 window, click the "Add" button in the "Displays" panel (bottom left).'}),"\n",(0,r.jsx)(i.li,{children:'Select "RobotModel" from the list and click "OK".'}),"\n",(0,r.jsx)(i.li,{children:'In the "RobotModel" properties, expand it.'}),"\n",(0,r.jsxs)(i.li,{children:['Ensure the "Description" property is set to ',(0,r.jsx)(i.code,{children:"robot_description"}),". This is the default parameter name where the URDF content is typically loaded."]}),"\n",(0,r.jsxs)(i.li,{children:['Set the "Fixed Frame" in the "Global Options" panel (top left) to ',(0,r.jsx)(i.code,{children:"base_link"})," (or the name of your robot's root link)."]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"You should now see your robot model rendered in the 3D view!"}),"\n",(0,r.jsx)(i.h2,{id:"visualizing-urdf-models",children:"Visualizing URDF Models"}),"\n",(0,r.jsxs)(i.p,{children:["Let's use a simple launch file to display our ",(0,r.jsx)(i.code,{children:"simple_box.urdf"})," in RViz2. Create a new launch file (e.g., ",(0,r.jsx)(i.code,{children:"display_simple_box.launch.py"}),") in your ROS 2 package."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"# display_simple_box.launch.py\nimport os\nfrom ament_index_python.packages import get_package_share_directory\nfrom launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    pkg_name = 'my_robot_pkg' # Replace with your package name\n    urdf_file_path = os.path.join(get_package_share_directory(pkg_name), 'urdf', 'simple_box.urdf')\n\n    return LaunchDescription([\n        Node(\n            package='robot_state_publisher',\n            executable='robot_state_publisher',\n            name='robot_state_publisher',\n            output='screen',\n            parameters=[{'robot_description': urdf_file_path}],\n        ),\n        Node(\n            package='rviz2',\n            executable='rviz2',\n            name='rviz2',\n            output='screen',\n        )\n    ])\n"})}),"\n",(0,r.jsxs)(i.p,{children:["Save this to ",(0,r.jsx)(i.code,{children:"ros2_ws/src/my_robot_pkg/launch/display_simple_box.launch.py"}),". You will also need to update your ",(0,r.jsx)(i.code,{children:"setup.py"})," to install this launch file. (We will cover this in detail in Module 1)."]}),"\n",(0,r.jsx)(i.p,{children:"You can then launch it with:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"ros2 launch my_robot_pkg display_simple_box.launch.py\n"})}),"\n",(0,r.jsxs)(i.p,{children:["This will automatically open RViz2 and display your ",(0,r.jsx)(i.code,{children:"simple_box.urdf"}),"."]}),"\n",(0,r.jsxs)(i.h3,{id:"visualizing-simple_cylinder_jointurdf",children:["Visualizing ",(0,r.jsx)(i.code,{children:"simple_cylinder_joint.urdf"})]}),"\n",(0,r.jsxs)(i.p,{children:["Now let's visualize a URDF with a joint. Here's the content of ",(0,r.jsx)(i.code,{children:"simple_cylinder_joint.urdf"}),":"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_cylinder_robot">\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <cylinder length="0.1" radius="0.05"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="0.1" radius="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.05"/>\n      <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="joint1" type="continuous">\n    <parent link="base_link"/>\n    <child link="child_link"/>\n    <origin xyz="0 0 0.1" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n  </joint>\n\n  <link name="child_link">\n    <visual>\n      <geometry>\n        <cylinder length="0.1" radius="0.05"/>\n      </geometry>\n      <material name="green">\n        <color rgba="0 1 0 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="0.1" radius="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.05"/>\n      <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>\n    </inertial>\n  </link>\n</robot>\n'})}),"\n",(0,r.jsxs)(i.p,{children:["To launch this in RViz2, you would create a similar launch file, replacing ",(0,r.jsx)(i.code,{children:"simple_box.urdf"})," with ",(0,r.jsx)(i.code,{children:"simple_cylinder_joint.urdf"}),", and then run:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"ros2 launch my_robot_pkg display_simple_cylinder_joint.launch.py\n"})})]})}function u(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>s,x:()=>t});var o=n(6540);const r={},l=o.createContext(r);function s(e){const i=o.useContext(l);return o.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(l.Provider,{value:i},e.children)}}}]);